language: c

os:
  - linux
  - osx

compiler:
  - clang
  - gcc

sudo: false

install:
  - git clone --depth=50 https://github.com/ivmai/libatomic_ops.git
  - ./autogen.sh
  - ./configure --enable-werror --enable-handle-fork --enable-gcj-support --enable-atomic-uncollectible --enable-disclaim --enable-munmap

script:
  - make -j check
